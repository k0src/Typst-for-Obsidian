/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var a=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var g=(t,o)=>{for(var e in o)a(t,e,{get:o[e],enumerable:!0})},p=(t,o,e,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of l(o))!u.call(t,n)&&n!==e&&a(t,n,{get:()=>o[n],enumerable:!(s=c(o,n))||s.enumerable});return t};var h=t=>p(a({},"__esModule",{value:!0}),t);var m={};g(m,{default:()=>r});module.exports=h(m);var i=require("obsidian"),r=class extends i.Plugin{async onload(){console.log("Loading TypstForObsidian plugin"),this.registerExtensions(["typ"],"typst-view"),this.registerView("typst-view",o=>new d(o))}onunload(){console.log("Unloading TypstForObsidian plugin")}},d=class extends i.TextFileView{constructor(){super(...arguments);this.currentMode="source";this.modeIconContainer=null}getViewType(){return"typst-view"}getDisplayText(){var e;return((e=this.file)==null?void 0:e.basename)||"Typst File"}async onOpen(){await super.onOpen(),this.addModeIcon()}onClose(){return super.onClose()}addModeIcon(){let e=this.containerEl.querySelector(".view-actions");e&&(this.modeIconContainer=e.createDiv("clickable-icon view-action"),this.modeIconContainer.setAttribute("aria-label","Toggle between source and reading mode"),e.insertBefore(this.modeIconContainer,e.firstChild),this.updateModeIcon(),this.modeIconContainer.addEventListener("click",()=>{this.toggleMode()}))}toggleMode(){this.currentMode=this.currentMode==="source"?"reading":"source",this.updateModeIcon(),console.log(`Switched to ${this.currentMode} mode`)}updateModeIcon(){this.modeIconContainer&&(this.modeIconContainer.empty(),this.currentMode==="source"?((0,i.setIcon)(this.modeIconContainer,"pencil-line"),this.modeIconContainer.setAttribute("aria-label","Currently in source mode. Click to switch to reading mode.")):((0,i.setIcon)(this.modeIconContainer,"book-open"),this.modeIconContainer.setAttribute("aria-label","Currently in reading mode. Click to switch to source mode.")))}async setViewData(e,s){}getViewData(){return"test"}clear(){}};
